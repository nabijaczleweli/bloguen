<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `ops` mod in crate `bloguen`."><meta name="keywords" content="rust, rustlang, rust-lang, ops"><title>bloguen::ops - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css"><link rel="stylesheet" type="text/css" href="../../light.css" id="themeStyle"><script src="../../storage.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="shortcut icon" href="../../favicon.ico"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../../bloguen/index.html'><div class='logo-container'><img src='../../rust-logo.png' alt='logo'></div></a><p class='location'>Module ops</p><div class="sidebar-elems"><div class="block items"><ul><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li></ul></div><p class='location'><a href='../index.html'>bloguen</a></p><script>window.sidebarCurrent = {name: 'ops', ty: 'mod', relpath: '../'};</script><script defer src="../sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../../theme.js"></script><nav class="sub"><form class="search-form js-only"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><a id="settings-menu" href="../../settings.html"><img src="../../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='out-of-band'><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span><a class='srclink' href='../../src/bloguen/ops/mod.rs.html#1-113' title='goto source code'>[src]</a></span><span class='in-band'>Module <a href='../index.html'>bloguen</a>::<wbr><a class="mod" href=''>ops</a></span></h1><div class='docblock'><p>Functions composable to generate blogues</p>
<p>The following steps will yield something akin to
the <a href="https://rawcdn.githack.com/nabijaczleweli/bloguen/man/bloguen.1.html"><code>bloguen</code> executable</a>:</p>
<ol>
<li><a href="struct.BlogueDescriptor.html#method.read"><code>BlogueDescriptor::read()</code></a> to read a blogue descriptor from the filesystem</li>
<li><a href="struct.BloguePost.html#method.list"><code>BloguePost::list()</code></a> and pipe the results into
<a href="struct.BloguePost.html#method.new"><code>BloguePost::new()</code></a> to discover and load posts from the filesystem</li>
<li>Read in the post header and footer, and, if applicable, index header, footer, and center</li>
<li><a href="struct.StyleElement.html#method.load"><code>{Script,Style}Element::load()</code></a> the blogue and index descriptors</li>
<li><a href="struct.BlogueDescriptor.html#method.create_feed_output"><code>BlogueDescriptor::create_feed_output()</code></a>, yielding feed files</li>
<li><a href="struct.BlogueDescriptor.html#method.generate_feed_head"><code>BlogueDescriptor::generate_feed_head()</code></a>s</li>
<li>For each discovered post:
1. <a href="struct.PostMetadata.html#method.read_or_default"><code>PostMetadata::read_or_default()</code></a> to discover and load any
metadata that might be present from the filesystem
2. <a href="struct.ScriptElement.html#method.load"><code>{Script,Style}Element::load()</code></a>s
3. <a href="struct.TagName.html#method.load_additional_post_tags"><code>TagName::load_additional_post_tags()</code></a>s to discover and load
any additional tags that might be present from the filesystem
4. For each pair in <a href="struct.BlogueDescriptor.html#structfield.machine_data"><code>BlogueDescriptor::machine_data</code></a>:
<ol>
<li><a href="struct.BloguePost.html#method.create_machine_output"><code>BloguePost::create_machine_output()</code></a>,
yielding the machine data file</li>
<li><a href="struct.BloguePost.html#method.generate_machine"><code>BloguePost::generate_machine()</code></a> into the file from above
5. If index file requested, <a href="struct.BloguePost.html#method.generate_machine"><code>BloguePost::generate_machine(MachineDataKind::Json)</code></a> into the script file
6. <a href="struct.BloguePost.html#method.generate_feed_head"><code>BloguePost::generate_feed_head()</code></a> into the feed files
7. <a href="struct.BloguePost.html#method.generate"><code>BloguePost::generate()</code></a> to create the post HTML, with
<a href="fn.feed_type_post_body.html"><code>feed_type_post_body()</code></a>s connected to the alt stream and, if requested, the index center buffer,
and get the asset list
8. <a href="struct.BloguePost.html#method.copy_asset"><code>BloguePost::copy_asset()</code></a> the returned percent-decoded links
if they're assets
9. <a href="struct.BloguePost.html#method.generate_feed_foot"><code>BloguePost::generate_feed_foot()</code></a> into the feed files</li>
</ol>
</li>
<li><a href="struct.BlogueDescriptor.html#method.generate_feed_foot"><code>BlogueDescriptor::generate_feed_foot()</code></a>s</li>
<li>If index requested:
1. Concatenate the JSON machine data into an additional script
2. Create an <code>index.html</code> file
3. <a href="fn.format_output.html"><code>format_output()</code></a> the index header with the above script
4. Write out the previously saved centers
5. <a href="fn.format_output.html"><code>format_output()</code></a> the index header with the above script</li>
</ol>
<p>Variables available in <a href="fn.format_output.html"><code>format_output()</code></a>:</p>
<table><thead><tr><th>Name</th><th>Description</th><th>Example</th></tr></thead><tbody>
<tr><td><code>language</code></td><td>passed-in language in BCP47 format</td><td>en-GB</td></tr>
<tr><td><code>number</code></td><td>default-formatted passed-in number</td><td>14</td></tr>
<tr><td><code>title</code></td><td>passed-in title, unformatted</td><td>release-front - a generic release front-end, like Patchwork's</td></tr>
<tr><td><code>author</code></td><td>passed-in author, unformatted</td><td>nabijaczleweli</td></tr>
<tr><td><code>raw_post_name</code></td><td>passed-in post name as it appeared on the filesystem, unformatted</td><td>004. 2018-03-30 Stir plate</td></tr>
<tr><td><code>normalised_post_name</code></td><td>passed-in normalised post name, unformatted</td><td>004. 2018-03-30 06-00-51 Stir plate</td></tr>
<tr><td><code>blog_name</code></td><td>passed-in blog name, unformatted</td><td>Блогг</td></tr>
<tr><td><code>bloguen-version</code></td><td>current version of <code>bloguen</code></td><td>v0.1.0</td></tr>
<tr><td><code>tags</code></td><td></td><td><code>&lt;span class=&quot;post-tag&quot;&gt;maths&lt;/span&gt;</code>…</td></tr>
<tr><td><code>tags()</code></td><td>all passed-in tags with the default class (<code>post-tag</code>)</td><td><code>&lt;span class=&quot;post-tag&quot;&gt;maths&lt;/span&gt;</code>…</td></tr>
<tr><td><code>tags(class)</code></td><td>all passed-in tags with the specified class. headers and footers</td><td><code>&lt;span class=&quot;пост-таг&quot;&gt;maths&lt;/span&gt;</code>…</td></tr>
<tr><td><code>styles</code></td><td>all the passed-in styles with their headers and footers</td><td><code>&lt;style type=&quot;text/css&quot;&gt;* {color: magenta;}&lt;/style&gt;</code>…</td></tr>
<tr><td><code>scripts</code></td><td>all the passed-in scripts with their headers and footers</td><td><code>&lt;script type=&quot;text/javascript&quot;&gt;alert(&quot;hewwo&quot;)&lt;/script&gt;</code>…</td></tr>
<tr><td><code>data-name</code></td><td>passed-in data under the <code>name</code> key, unformatted</td><td>hewwo</td></tr>
<tr><td><code>date(post, format)</code></td><td>post date formatted with <a href="fn.parse_date_format_specifier.html"><code>parse_date_format_specifier(format)</code></a></td><td>Thu,  6 Sep 2018 18:32:22 +0200</td></tr>
<tr><td><code>date(now_utc, format)</code></td><td>current date in UTC formatted with <a href="fn.parse_date_format_specifier.html"><code>parse_date_format_specifier(format)</code></a></td><td>Thu,  6 Sep 2018 18:32:22 +0200</td></tr>
<tr><td><code>machine_data(kind)</code></td><td>machine data of the specified kind</td><td><code>{&quot;number&quot;: 3, &quot;language&quot;: &quot;en-GB&quot;, …}</code>…</td></tr>
<tr><td><code>pass_paragraphs(count, var)</code></td><td>parse <code>var</code> and write its contents formatted through <a href="struct.ParagraphPasser.html"><code>ParagraphPasser</code></a></td><td><code>{&quot;number&quot;: 3, &quot;language&quot;: &quot;en-GB&quot;, …}</code>…</td></tr>
</tbody></table>
</div><h2 id='structs' class='section-header'><a href="#structs">Structs</a></h2>
<table><tr class='module-item'><td><a class="struct" href="struct.BlogueDescriptor.html" title='bloguen::ops::BlogueDescriptor struct'>BlogueDescriptor</a></td><td class='docblock-short'><p>Generic blogue metadata.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.BlogueDescriptorIndex.html" title='bloguen::ops::BlogueDescriptorIndex struct'>BlogueDescriptorIndex</a></td><td class='docblock-short'><p>Metadata pertaining specifically to generating an index file.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.BloguePost.html" title='bloguen::ops::BloguePost struct'>BloguePost</a></td><td class='docblock-short'><p>Information about a blogue post.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.LanguageTag.html" title='bloguen::ops::LanguageTag struct'>LanguageTag</a></td><td class='docblock-short'><p>A verified-valid BCP47 language tag.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.ParagraphPasser.html" title='bloguen::ops::ParagraphPasser struct'>ParagraphPasser</a></td><td class='docblock-short'><p>Output sink which will allow through the specified amount of HTML paragraphs, then void all remaining data.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.PostMetadata.html" title='bloguen::ops::PostMetadata struct'>PostMetadata</a></td><td class='docblock-short'><p>Generic post metadata.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.ScriptElement.html" title='bloguen::ops::ScriptElement struct'>ScriptElement</a></td><td class='docblock-short'><p>A script specifier.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.StyleElement.html" title='bloguen::ops::StyleElement struct'>StyleElement</a></td><td class='docblock-short'><p>A style specifier.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.TagName.html" title='bloguen::ops::TagName struct'>TagName</a></td><td class='docblock-short'><p>A verified-valid post tag.</p>
</td></tr></table><h2 id='enums' class='section-header'><a href="#enums">Enums</a></h2>
<table><tr class='module-item'><td><a class="enum" href="enum.CenterOrder.html" title='bloguen::ops::CenterOrder enum'>CenterOrder</a></td><td class='docblock-short'><p>A specifier of index centerpiece ordering.</p>
</td></tr><tr class='module-item'><td><a class="enum" href="enum.FeedType.html" title='bloguen::ops::FeedType enum'>FeedType</a></td><td class='docblock-short'><p>A feed type specifier.</p>
</td></tr><tr class='module-item'><td><a class="enum" href="enum.MachineDataKind.html" title='bloguen::ops::MachineDataKind enum'>MachineDataKind</a></td><td class='docblock-short'><p>A specifier of machine data format.</p>
</td></tr></table><h2 id='traits' class='section-header'><a href="#traits">Traits</a></h2>
<table><tr class='module-item'><td><a class="trait" href="trait.WrappedElement.html" title='bloguen::ops::WrappedElement trait'>WrappedElement</a></td><td class='docblock-short'><p>An element with a preface, a content, and a postface.</p>
</td></tr></table><h2 id='functions' class='section-header'><a href="#functions">Functions</a></h2>
<table><tr class='module-item'><td><a class="fn" href="fn.feed_atom_footer.html" title='bloguen::ops::feed_atom_footer fn'>feed_atom_footer</a></td><td class='docblock-short'><p>Output the footer for an Atom feed,</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.feed_atom_header.html" title='bloguen::ops::feed_atom_header fn'>feed_atom_header</a></td><td class='docblock-short'><p>Output the header for an Atom feed,</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.feed_atom_post_body.html" title='bloguen::ops::feed_atom_post_body fn'>feed_atom_post_body</a></td><td class='docblock-short'><p>Get the post body writer for an Atom feed.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.feed_atom_post_footer.html" title='bloguen::ops::feed_atom_post_footer fn'>feed_atom_post_footer</a></td><td class='docblock-short'><p>Output the post footer for an Atom feed,</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.feed_atom_post_header.html" title='bloguen::ops::feed_atom_post_header fn'>feed_atom_post_header</a></td><td class='docblock-short'><p>Output the post header for an Atom feed,</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.feed_rss_footer.html" title='bloguen::ops::feed_rss_footer fn'>feed_rss_footer</a></td><td class='docblock-short'><p>Output the footer for an RSS feed,</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.feed_rss_header.html" title='bloguen::ops::feed_rss_header fn'>feed_rss_header</a></td><td class='docblock-short'><p>Output the header for an RSS feed,</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.feed_rss_post_body.html" title='bloguen::ops::feed_rss_post_body fn'>feed_rss_post_body</a></td><td class='docblock-short'><p>Get the post body writer for an RSS feed.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.feed_rss_post_footer.html" title='bloguen::ops::feed_rss_post_footer fn'>feed_rss_post_footer</a></td><td class='docblock-short'><p>Output the post footer for an RSS feed,</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.feed_rss_post_header.html" title='bloguen::ops::feed_rss_post_header fn'>feed_rss_post_header</a></td><td class='docblock-short'><p>Output the post header for an RSS feed,</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.feed_type_footer.html" title='bloguen::ops::feed_type_footer fn'>feed_type_footer</a></td><td class='docblock-short'><p>Get the correct feed output funxion for the specified feed kind.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.feed_type_header.html" title='bloguen::ops::feed_type_header fn'>feed_type_header</a></td><td class='docblock-short'><p>Get the correct feed output funxion for the specified feed kind.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.feed_type_post_body.html" title='bloguen::ops::feed_type_post_body fn'>feed_type_post_body</a></td><td class='docblock-short'><p>Get the correct feed output writer for the specified feed kind.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.feed_type_post_footer.html" title='bloguen::ops::feed_type_post_footer fn'>feed_type_post_footer</a></td><td class='docblock-short'><p>Get the correct feed output funxion for the specified feed kind.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.feed_type_post_header.html" title='bloguen::ops::feed_type_post_header fn'>feed_type_post_header</a></td><td class='docblock-short'><p>Get the correct feed output funxion for the specified feed kind.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.format_output.html" title='bloguen::ops::format_output fn'>format_output</a></td><td class='docblock-short'><p>Fill out an HTML template.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.machine_output_json.html" title='bloguen::ops::machine_output_json fn'>machine_output_json</a></td><td class='docblock-short'><p>Output a JSON blob of post metadata.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.machine_output_kind.html" title='bloguen::ops::machine_output_kind fn'>machine_output_kind</a></td><td class='docblock-short'><p>Get the correct machine output funxion for the specified output kind.</p>
</td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><aside id="help" class="hidden"><div><h1 class="hidden">Help</h1><div class="shortcuts"><h2>Keyboard Shortcuts</h2><dl><dt><kbd>?</kbd></dt><dd>Show this help dialog</dd><dt><kbd>S</kbd></dt><dd>Focus the search field</dd><dt><kbd>↑</kbd></dt><dd>Move up in search results</dd><dt><kbd>↓</kbd></dt><dd>Move down in search results</dd><dt><kbd>↹</kbd></dt><dd>Switch tab</dd><dt><kbd>&#9166;</kbd></dt><dd>Go to active search result</dd><dt><kbd>+</kbd></dt><dd>Expand all sections</dd><dt><kbd>-</kbd></dt><dd>Collapse all sections</dd></dl></div><div class="infos"><h2>Search Tricks</h2><p>Prefix searches with a type followed by a colon (e.g., <code>fn:</code>) to restrict the search to a given type.</p><p>Accepted types are: <code>fn</code>, <code>mod</code>, <code>struct</code>, <code>enum</code>, <code>trait</code>, <code>type</code>, <code>macro</code>, and <code>const</code>.</p><p>Search functions by type signature (e.g., <code>vec -> usize</code> or <code>* -> vec</code>)</p><p>Search multiple things at once by splitting your query with comma (e.g., <code>str,u8</code> or <code>String,struct:Vec,test</code>)</p></div></div></aside><script>window.rootPath = "../../";window.currentCrate = "bloguen";</script><script src="../../aliases.js"></script><script src="../../main.js"></script><script defer src="../../search-index.js"></script></body></html>